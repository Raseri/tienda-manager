{"version":3,"mappings":"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","names":["renderRegister","container","onRegisterSuccess","form","nombreInput","emailInput","passwordInput","passwordConfirmInput","rolSelect","termsCheckbox","registerBtn","message","gotoLogin","showMessage","text","isError","className","icon","setLoading","isLoading","validateEmail","email","e","nombre","password","passwordConfirm","rol","termsAccepted","simulateRegister","error","__vitePreload","renderLogin","n","selectedOption","userData","resolve","reject","existingUsers","u","newUser","loginData"],"ignoreList":[],"sources":["../../src/modules/auth/Register.js"],"sourcesContent":["// Register.js - Componente de registro\r\nimport './login.css';\r\n\r\nexport function renderRegister(container, onRegisterSuccess) {\r\n    container.innerHTML = `\r\n    <div class=\"auth-container\">\r\n      <div class=\"auth-card\">\r\n        <div class=\"auth-header\">\r\n          <div class=\"auth-logo\">üè™</div>\r\n          <h1 class=\"auth-title\">Crear Cuenta</h1>\r\n          <p class=\"auth-subtitle\">√önete a Tienda Manager</p>\r\n        </div>\r\n\r\n        <form class=\"auth-form\" id=\"register-form\">\r\n          <div id=\"message\" style=\"display: none;\"></div>\r\n\r\n          <div class=\"form-group\">\r\n            <label class=\"form-label\" for=\"nombre\">\r\n              Nombre Completo\r\n              <span class=\"required\">*</span>\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"nombre\"\r\n              class=\"form-input\"\r\n              placeholder=\"Juan P√©rez\"\r\n              required\r\n              autocomplete=\"name\"\r\n            />\r\n          </div>\r\n\r\n          <div class=\"form-group\">\r\n            <label class=\"form-label\" for=\"email\">\r\n              Correo Electr√≥nico\r\n              <span class=\"required\">*</span>\r\n            </label>\r\n            <input\r\n              type=\"email\"\r\n              id=\"email\"\r\n              class=\"form-input\"\r\n              placeholder=\"tu@email.com\"\r\n              required\r\n              autocomplete=\"email\"\r\n            />\r\n          </div>\r\n\r\n          <div class=\"form-group\">\r\n            <label class=\"form-label\" for=\"password\">\r\n              Contrase√±a\r\n              <span class=\"required\">*</span>\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"password\"\r\n              class=\"form-input\"\r\n              placeholder=\"M√≠nimo 6 caracteres\"\r\n              required\r\n              autocomplete=\"new-password\"\r\n              minlength=\"6\"\r\n            />\r\n          </div>\r\n\r\n          <div class=\"form-group\">\r\n            <label class=\"form-label\" for=\"password-confirm\">\r\n              Confirmar Contrase√±a\r\n              <span class=\"required\">*</span>\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"password-confirm\"\r\n              class=\"form-input\"\r\n              placeholder=\"Repite tu contrase√±a\"\r\n              required\r\n              autocomplete=\"new-password\"\r\n              minlength=\"6\"\r\n            />\r\n          </div>\r\n\r\n          <div class=\"form-group\">\r\n            <label class=\"form-label\" for=\"rol\">\r\n              Tipo de Usuario\r\n              <span class=\"required\">*</span>\r\n            </label>\r\n            <select id=\"rol\" class=\"form-select\" required>\r\n              <option value=\"\">Selecciona un tipo</option>\r\n              <option value=\"vendedor\">\r\n                Vendedor - Realizar ventas y gestionar clientes\r\n              </option>\r\n              <option value=\"admin\">\r\n                Administrador - Control total del sistema\r\n              </option>\r\n            </select>\r\n          </div>\r\n\r\n          <div class=\"form-group\">\r\n            <label class=\"form-checkbox\">\r\n              <input type=\"checkbox\" id=\"terms\" required />\r\n              <span>\r\n                Acepto los <a href=\"#\" class=\"form-link\">t√©rminos y condiciones</a>\r\n              </span>\r\n            </label>\r\n          </div>\r\n\r\n          <button type=\"submit\" class=\"btn-auth\" id=\"register-btn\">\r\n            Crear Cuenta\r\n          </button>\r\n        </form>\r\n\r\n        <div class=\"auth-footer\">\r\n          ¬øYa tienes cuenta?\r\n          <a href=\"#\" id=\"goto-login\">Inicia sesi√≥n</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `;\r\n\r\n    // Elementos del formulario\r\n    const form = container.querySelector('#register-form');\r\n    const nombreInput = container.querySelector('#nombre');\r\n    const emailInput = container.querySelector('#email');\r\n    const passwordInput = container.querySelector('#password');\r\n    const passwordConfirmInput = container.querySelector('#password-confirm');\r\n    const rolSelect = container.querySelector('#rol');\r\n    const termsCheckbox = container.querySelector('#terms');\r\n    const registerBtn = container.querySelector('#register-btn');\r\n    const message = container.querySelector('#message');\r\n    const gotoLogin = container.querySelector('#goto-login');\r\n\r\n    // Funci√≥n para mostrar mensaje\r\n    function showMessage(text, isError = true) {\r\n        const className = isError ? 'form-error' : 'form-success';\r\n        const icon = isError ? '‚ùå' : '‚úÖ';\r\n        message.innerHTML = `\r\n      <div class=\"${className}\">\r\n        <span>${icon}</span>\r\n        <span>${text}</span>\r\n      </div>\r\n    `;\r\n        message.style.display = 'block';\r\n        setTimeout(() => {\r\n            if (!isError) {\r\n                message.style.display = 'none';\r\n            }\r\n        }, 5000);\r\n    }\r\n\r\n    // Funci√≥n para mostrar loading\r\n    function setLoading(isLoading) {\r\n        registerBtn.disabled = isLoading;\r\n        registerBtn.innerHTML = isLoading\r\n            ? '<span class=\"spinner\"></span> Creando cuenta...'\r\n            : 'Crear Cuenta';\r\n    }\r\n\r\n    // Validar email\r\n    function validateEmail(email) {\r\n        const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n        return re.test(email);\r\n    }\r\n\r\n    // Handle register submit\r\n    form.addEventListener('submit', async (e) => {\r\n        e.preventDefault();\r\n\r\n        const nombre = nombreInput.value.trim();\r\n        const email = emailInput.value.trim();\r\n        const password = passwordInput.value;\r\n        const passwordConfirm = passwordConfirmInput.value;\r\n        const rol = rolSelect.value;\r\n        const termsAccepted = termsCheckbox.checked;\r\n\r\n        // Validaciones\r\n        if (!nombre || !email || !password || !passwordConfirm || !rol) {\r\n            showMessage('Por favor completa todos los campos');\r\n            return;\r\n        }\r\n\r\n        if (!validateEmail(email)) {\r\n            showMessage('Por favor ingresa un correo v√°lido');\r\n            return;\r\n        }\r\n\r\n        if (password.length < 6) {\r\n            showMessage('La contrase√±a debe tener al menos 6 caracteres');\r\n            return;\r\n        }\r\n\r\n        if (password !== passwordConfirm) {\r\n            showMessage('Las contrase√±as no coinciden');\r\n            return;\r\n        }\r\n\r\n        if (!termsAccepted) {\r\n            showMessage('Debes aceptar los t√©rminos y condiciones');\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n\r\n        try {\r\n            // Simular llamada a API (aqu√≠ ir√° la llamada real al backend)\r\n            await simulateRegister({ nombre, email, password, rol });\r\n\r\n            // Success\r\n            showMessage('¬°Cuenta creada exitosamente! Redirigiendo...', false);\r\n            setTimeout(() => {\r\n                onRegisterSuccess();\r\n            }, 2000);\r\n        } catch (error) {\r\n            showMessage(error.message);\r\n            setLoading(false);\r\n        }\r\n    });\r\n\r\n    // Go to login\r\n    gotoLogin.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n        // Import and render login\r\n        import('./Login.js').then(({ renderLogin }) => {\r\n            renderLogin(container, onRegisterSuccess);\r\n        });\r\n    });\r\n\r\n    // Show role info when selected\r\n    rolSelect.addEventListener('change', (e) => {\r\n        const selectedOption = e.target.options[e.target.selectedIndex];\r\n        if (selectedOption.value) {\r\n            console.log('Rol seleccionado:', selectedOption.value);\r\n        }\r\n    });\r\n}\r\n\r\n// Simular registro (temporal hasta tener backend)\r\nasync function simulateRegister(userData) {\r\n    return new Promise((resolve, reject) => {\r\n        setTimeout(() => {\r\n            // Verificar si el usuario ya existe (simulado)\r\n            const existingUsers = JSON.parse(localStorage.getItem('registeredUsers') || '[]');\r\n\r\n            if (existingUsers.some(u => u.email === userData.email)) {\r\n                reject(new Error('Este correo ya est√° registrado'));\r\n                return;\r\n            }\r\n\r\n            // Crear nuevo usuario\r\n            const newUser = {\r\n                id: Date.now(),\r\n                nombre: userData.nombre,\r\n                email: userData.email,\r\n                rol: userData.rol,\r\n                avatar: userData.nombre.charAt(0).toUpperCase(),\r\n                createdAt: new Date().toISOString(),\r\n                activo: true\r\n            };\r\n\r\n            // Guardar usuario (en producci√≥n esto se hace en el backend)\r\n            existingUsers.push(newUser);\r\n            localStorage.setItem('registeredUsers', JSON.stringify(existingUsers));\r\n\r\n            // Log in autom√°ticamente\r\n            const loginData = {\r\n                id: newUser.id,\r\n                nombre: newUser.nombre,\r\n                email: newUser.email,\r\n                rol: newUser.rol,\r\n                avatar: newUser.avatar,\r\n                loginTime: new Date().toISOString()\r\n            };\r\n\r\n            sessionStorage.setItem('user', JSON.stringify(loginData));\r\n            sessionStorage.setItem('authToken', 'demo-token-' + Date.now());\r\n\r\n            console.log('‚úÖ Registro exitoso:', newUser);\r\n            resolve(newUser);\r\n        }, 1500); // Simular latencia de red\r\n    });\r\n}\r\n\r\n// Cleanup\r\nexport function cleanupRegister() {\r\n    // No hay listeners globales que limpiar\r\n}\r\n"],"file":"assets/Register-DcWLrkbV.js"}